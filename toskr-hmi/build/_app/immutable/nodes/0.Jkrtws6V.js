import{d as ke,c as F,a as s,t as o,s as N,e as je}from"../chunks/B7Zs4Suv.js";import{M as A,Q as i,T as d,R as l,N as L,K as Se,V as Ce,O as De,q as c,W as g,m as a,X as Oe}from"../chunks/DDiMguoB.js";import{i as u}from"../chunks/BXEidSJ8.js";import{s as se,c as re,a as Re,W as oe,b as Te}from"../chunks/BVkzzyo1.js";const ze=!1,et=Object.freeze(Object.defineProperty({__proto__:null,ssr:ze},Symbol.toStringTag,{value:"Module"})),Me="data:image/svg+xml,%3csvg%20version='1.2'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20500%20500'%20width='500'%20height='500'%3e%3ctitle%3e1719719_187738-OXCQ33-667%3c/title%3e%3cstyle%3e%20.s0%20{%20fill:%20%23a0a0a0%20}%20%3c/style%3e%3cg%20id='BACKGROUND'%3e%3c/g%3e%3cg%20id='OBJECTS'%3e%3cg%3e%3cpath%20class='s0'%20d='m338.5%200.8c-0.1%200-0.3%200-0.4%200-5.6-0.5-11.2-0.8-17-0.8-8.8%200-17.6%200.2-26.4%200.6-12.2%200.7-24.3%201.8-36.2%203.8-41.8%208.6-71.6%2027.5-93.9%2057.3-37.5%2050.1-46.7%20112.9-26%20168.1%206.2%2016.8%2015.2%2034.5%2024.9%2051.1%2014.1%2024.2%2026.6%2042.7%2038.7%2058.1%203.8%204.9%208%209.7%2012%2014.6%2018.7%2022.5%2038.1%2045.7%2041.1%2076%201%2010-0.1%2019.9-3.2%2027.8-3.5%209.2-10%2016.8-15.8%2023.1-4.8%205.4-15.5%2012.8-30.3%2019%205.7%200.1%2011%200.2%2013.1%200.2%2034.4-1%2085.6-10.9%20119-77.7%206.5-16.8%2011.2-40.1%204.4-69.8-4.3-18.6-12.2-36.3-22-52.6-13.7-22.8-47.3-56.2-24.2-99.5%209-16.9%2031.9-23%2031.9-23-4.4%2012.9-4.4%2025.2-2.6%2036%201.4%207.6%203.7%2014.4%206%2020.1%201.1%202.5%202.2%204.9%203.2%206.9%207.9%2014.4%2019.8%2026.2%2034.1%2033.9%2012.1%206.6%2025.8%2010.3%2040.5%2010.3%205.9%200%2011.7-0.6%2017.3-1.8%204.9-1%209.6-2.4%2014.1-4.3%207.5-2.9%2014.4-6.9%2020.7-11.8%2012.2-9.9%2022.4-23.9%2029.1-42.1%201.3-3.3%202.4-6.9%203.3-10.5%202.6-11.9%204-24.3%204-37%200-91.9-70-167.3-159.4-176z'/%3e%3cpath%20class='s0'%20d='m64.6%20207.3c-0.9-10.8%200.9-23.4%207.1-34.4-6.5%204.6-24.5%2019-26.2%2043.1%207.2-3.9%2014-6.8%2019.1-8.7z'/%3e%3cpath%20class='s0'%20d='m154.9%20286.2c-10.2-17.3-18.7-35.1-25.3-52.7-7.5-20.1-11.3-41.3-11.6-62.4-0.5-8.1-0.2-15.6%201.1-22.5q0.1-0.8%200.2-1.7c-2.8%201.4-39.4%2016.8-43.3%2046.3-1.1%207.5-1.6%2011.1%200.6%2020.7-2.7%201.2-18.5%206.7-32.6%2015.2-16.8%2010.1-33.5%2024-39.4%2042.3-6.4%2019.7%207.3%2041.4%2026.5%2046.4%208.1%202.1%2016.7%201.3%2024.8%200.1%205.7-0.9%2011.3-2.3%2016.9-3.7%204-1.1%2017.2-2.8%2019.6-5.9-6.6%208.5-27.8%2040.3-8.7%2079.7q0.2%200.3%200.3%200.7c8.6-52%2034.3-83%2076.8-92.5-2-3.2-3.9-6.5-5.9-10zm-89.1-18.3c-4.7%200-8.4-3.7-8.4-8.3%200-4.6%203.7-8.3%208.4-8.3%204.6%200%208.3%203.7%208.3%208.3%200%204.6-3.7%208.3-8.3%208.3z'/%3e%3cpath%20class='s0'%20d='m228.6%20473.5c5.3-6%2010.8-12.4%2013.7-19.9%202.5-6.4%203.5-14.6%202.6-23-2.6-27-20.9-49-38.6-70.3-4.2-4.9-8.3-9.9-12.2-14.8-8.9-11.4-17.8-24.3-27.4-39.7-90%2017.1-75%20134.5-74.2%20156.3-44-1.6-54.3%2037.9-54.3%2037.9%200%200%2087.1-1.4%20136.8-2%2028.3-5.5%2047.9-18.3%2053.6-24.5z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e";var Ae=o("<p> </p>"),Le=o('<button class="theme-dark-bar-button" type="button" disabled><div class="p-2 flex flex-col justify-center items-center"><span></span> <!></div></button>'),qe=o("<p> </p>"),Be=o('<button class="theme-dark-bar-button" type="button"><div class="p-2 flex flex-col justify-center items-center"><span></span> <!></div></button>');function x(P,_){var y=F(),S=A(y);{var q=f=>{var r=Le(),w=i(r),b=i(w),O=d(b,2);{var R=p=>{var v=Ae(),B=i(v,!0);l(v),L(()=>N(B,_.title)),s(p,v)};u(O,p=>{_.title&&p(R)})}l(w),l(r),L(()=>se(b,1,re(_.iconClass))),s(f,r)},C=f=>{var r=Be();r.__click=function(...p){var v;(v=_.onclick)==null||v.apply(this,p)};var w=i(r),b=i(w),O=d(b,2);{var R=p=>{var v=qe(),B=i(v,!0);l(v),L(()=>N(B,_.title)),s(p,v)};u(O,p=>{_.title&&p(R)})}l(w),l(r),L(()=>se(b,1,re(_.iconClass))),s(f,r)};u(S,f=>{_.disabled?f(q):f(C,!1)})}s(P,y)}ke(["click"]);var Ke=o('<div><form class="flex flex-col w-full h-full justify-center items-center p-4 gap-2"><input type="number" id="x" name="x" placeholder="X" required class="theme-dark-input"> <input type="number" id="y" name="y" placeholder="Y" required class="theme-dark-input"> <button type="submit" class="theme-dark-window-button p-2">Send</button></form> <div class="flex flex-col w-full h-full justify-center items-center p-4 gap-2"><!></div></div>'),Ee=o('<div class="absolute top-0 left-0 w-full h-full flex justify-center items-center bg-[#242424b4] z-50"><div class="absolute flex justify-center items-center theme-dark-container rounded-md justify-self-center"><!></div></div>'),Ne=o('<div class="flex flex-col w-full h-full justify-center items-center p-4 gap-2"><p class="text-center">TOSKR HMI</p> <p class="text-center">Version 1.0</p> <p class="text-center">Developed by RATATOSKR Team</p> <p class="text-center">2025</p></div>'),Pe=o('<div class="absolute top-0 left-0 w-full h-full flex justify-center items-center bg-[#242424b4] z-50"><div class="absolute flex justify-center items-center theme-dark-container rounded-md justify-self-center"><!></div></div>'),Je=o("<p> </p>"),We=o("<p>Loading...</p>"),Xe=o("<p> </p>"),Qe=o("<p>Loading...</p>"),Ve=o("<!> <!>",1),Fe=o("<!> <!>",1),Ge=o("<!> <!>",1),He=o("<p>Loading...</p>"),Ie=o('<div class="app h-dvh max-h-dvh flex overflow-hidden"><div class="flex flex-col h-full w-full overflow-hidden"><!> <!> <div class="top-content w-full min-h-10 max-h-10 flex flex-row justify-between items-center p-2 theme-dark-container"><!> <!> <p>Ping</p></div> <div class="flex flex-grow justify-start items-center theme-dark-back overflow-hidden"><div class="flex place-self-stretch flex-col w-20 justify-between items-center p-2 m-2 theme-dark-container rounded-md"><div class="flex flex-col w-full justify-center items-center"><img alt="TOSKR Logo" class="pb-2"> <!> <!></div> <div><!></div></div> <main class="flex flex-col md:flex-row place-self-stretch justify-stretch items-center m-2 flex-grow gap-2 overflow-hidden"><!></main></div></div></div>');function tt(P,_){Se(_,!0);let y=g(!1),S=g(!1),q=g(!1),C=g(null),f=g(void 0),r=g(null),w=g(void 0),b=g(void 0),O=g(void 0),R=g(void 0),p=g(void 0);Ce(async()=>{const e=await fetch("/api/connect");return c(C,await e.json(),!0),c(r,a(C),!0),c(f,new EventSource("/api/ping"),!0),a(f).addEventListener("ping",t=>{c(C,JSON.parse(t.data),!0),c(b,Date.now(),!0),c(O,Math.floor(a(b)/1e3%60),!0),c(R,Math.floor(a(b)/(1e3*60)%60),!0),c(p,Math.floor(a(b)/(1e3*60*60)%24)+19),c(w,`${a(p)}:${a(R)}:${a(O)}`)}),a(f).addEventListener("status_update",t=>{c(r,JSON.parse(t.data),!0)}),()=>{a(f)&&a(f).close()}});function v(){fetch("/api/stop")}function B(){fetch("/api/start")}function J(){fetch("/api/return")}function ne(e){e.preventDefault();const t=new FormData(e.target),n={x:t.get("x"),y:t.get("y")};fetch(`/api/move?x=${n.x}&y=${n.y}`)}function G(e){fetch(`/api/debug?debug=${e}`)}var W=Ie(),H=i(W),I=i(H);{var ce=e=>{var t=Ee(),n=i(t),K=i(n);oe(K,{title:"Debug",onclick:()=>{c(S,!a(S))},icon:"cuida--x-outline",children:(E,k)=>{var h=Ke(),D=i(h),T=d(D,2),j=i(T);{var z=m=>{x(m,{title:"Stop",onclick:()=>{G(0),c(q,!1)},iconClass:"cuida--power-outline"})},M=m=>{x(m,{title:"Start",onclick:()=>{G(1),c(q,!0)},iconClass:"cuida--power-outline text-[#80b62e]"})};u(j,m=>{a(q)?m(z):m(M,!1)})}l(T),l(h),je("submit",D,ne),s(E,h)}}),l(n),l(t),s(e,t)};u(I,e=>{a(S)&&e(ce)})}var U=d(I,2);{var de=e=>{var t=Pe(),n=i(t),K=i(n);oe(K,{title:"About",onclick:()=>{c(y,!a(y))},icon:"cuida--x-outline",children:(E,k)=>{var h=Ne();s(E,h)}}),l(n),l(t),s(e,t)};u(U,e=>{a(y)&&e(de)})}var X=d(U,2),Y=i(X);{var ve=e=>{var t=Je(),n=i(t,!0);l(t),L(()=>N(n,a(w))),s(e,t)},ue=e=>{var t=We();s(e,t)};u(Y,e=>{a(C)?e(ve):e(ue,!1)})}var fe=d(Y,2);{var pe=e=>{var t=Xe(),n=i(t,!0);l(t),L(()=>N(n,a(r).status==0?"On Duty":a(r).status==1?"Stopped":"Returning...")),s(e,t)},me=e=>{var t=Qe();s(e,t)};u(fe,e=>{a(r)?e(pe):e(me,!1)})}Oe(2),l(X);var Z=d(X,2),Q=i(Z),V=i(Q),$=i(V);Re($,"src",Me);var ee=d($,2);x(ee,{title:"About",iconClass:"cuida--info-outline",onclick:()=>{c(y,!a(y)),console.log("About clicked")}});var _e=d(ee,2);x(_e,{title:"Debug",iconClass:"cuida--bullseye-outline",onclick:()=>{c(S,!a(S)),console.log("Debug clicked")}}),l(V);var te=d(V,2),ge=i(te);{var be=e=>{var t=F(),n=A(t);{var K=k=>{var h=Ve(),D=A(h);x(D,{title:"Stop",iconClass:"cuida--power-outline",onclick:v});var T=d(D,2);x(T,{title:"Return",iconClass:"cuida--loading-left-outline",onclick:J}),s(k,h)},E=(k,h)=>{{var D=j=>{var z=Fe(),M=A(z);x(M,{title:"Start",iconClass:"cuida--power-outline text-[#80b62e]",onclick:B});var m=d(M,2);x(m,{title:"Return",iconClass:"cuida--loading-left-outline",onclick:J}),s(j,z)},T=(j,z)=>{{var M=m=>{var ie=Ge(),le=A(ie);x(le,{title:"Stop",iconClass:"cuida--power-outline",onclick:v});var we=d(le,2);x(we,{title:"Return",iconClass:"cuida--loading-left-outline",onclick:J,disabled:"true"}),s(m,ie)};u(j,m=>{a(r).status==2&&m(M)},z)}};u(k,j=>{a(r).status==1?j(D):j(T,!1)},h)}};u(n,k=>{a(r).status==0?k(K):k(E,!1)})}s(e,t)};u(ge,e=>{a(r)&&e(be)})}l(te),l(Q);var ae=d(Q,2),he=i(ae);{var xe=e=>{var t=F(),n=A(t);Te(n,()=>_.children),s(e,t)},ye=e=>{var t=He();s(e,t)};u(he,e=>{a(C)?e(xe):e(ye,!1)})}l(ae),l(Z),l(H),l(W),s(P,W),De()}export{tt as component,et as universal};
