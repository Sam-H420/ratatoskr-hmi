import{d as ke,c as X,a as r,t as n,s as P,e as Se}from"../chunks/wixlNtoe.js";import{V as je,h as Ce,M as z,Q as i,T as u,R as s,N,K as Te,W as De,O as Me,q as d,X as h,m as a,Y as Oe}from"../chunks/DgjcRy8N.js";import{i as p}from"../chunks/Dd0M2OQj.js";import{s as re,c as le,W as oe,a as Re}from"../chunks/--kQ1aqw.js";const Ae=Symbol("is custom element"),Ee=Symbol("is html");function Le(v,o,b,S){var k=ze(v);if(Ce){k[o]=v.getAttribute(o);return}k[o]!==(k[o]=b)&&v.setAttribute(o,b)}function ze(v){return v.__attributes??(v.__attributes={[Ae]:v.nodeName.includes("-"),[Ee]:v.namespaceURI===je})}const Ne=!1,rt=Object.freeze(Object.defineProperty({__proto__:null,ssr:Ne},Symbol.toStringTag,{value:"Module"})),qe="data:image/svg+xml,%3csvg%20version='1.2'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20500%20500'%20width='500'%20height='500'%3e%3ctitle%3e1719719_187738-OXCQ33-667%3c/title%3e%3cstyle%3e%20.s0%20{%20fill:%20%23a0a0a0%20}%20%3c/style%3e%3cg%20id='BACKGROUND'%3e%3c/g%3e%3cg%20id='OBJECTS'%3e%3cg%3e%3cpath%20class='s0'%20d='m338.5%200.8c-0.1%200-0.3%200-0.4%200-5.6-0.5-11.2-0.8-17-0.8-8.8%200-17.6%200.2-26.4%200.6-12.2%200.7-24.3%201.8-36.2%203.8-41.8%208.6-71.6%2027.5-93.9%2057.3-37.5%2050.1-46.7%20112.9-26%20168.1%206.2%2016.8%2015.2%2034.5%2024.9%2051.1%2014.1%2024.2%2026.6%2042.7%2038.7%2058.1%203.8%204.9%208%209.7%2012%2014.6%2018.7%2022.5%2038.1%2045.7%2041.1%2076%201%2010-0.1%2019.9-3.2%2027.8-3.5%209.2-10%2016.8-15.8%2023.1-4.8%205.4-15.5%2012.8-30.3%2019%205.7%200.1%2011%200.2%2013.1%200.2%2034.4-1%2085.6-10.9%20119-77.7%206.5-16.8%2011.2-40.1%204.4-69.8-4.3-18.6-12.2-36.3-22-52.6-13.7-22.8-47.3-56.2-24.2-99.5%209-16.9%2031.9-23%2031.9-23-4.4%2012.9-4.4%2025.2-2.6%2036%201.4%207.6%203.7%2014.4%206%2020.1%201.1%202.5%202.2%204.9%203.2%206.9%207.9%2014.4%2019.8%2026.2%2034.1%2033.9%2012.1%206.6%2025.8%2010.3%2040.5%2010.3%205.9%200%2011.7-0.6%2017.3-1.8%204.9-1%209.6-2.4%2014.1-4.3%207.5-2.9%2014.4-6.9%2020.7-11.8%2012.2-9.9%2022.4-23.9%2029.1-42.1%201.3-3.3%202.4-6.9%203.3-10.5%202.6-11.9%204-24.3%204-37%200-91.9-70-167.3-159.4-176z'/%3e%3cpath%20class='s0'%20d='m64.6%20207.3c-0.9-10.8%200.9-23.4%207.1-34.4-6.5%204.6-24.5%2019-26.2%2043.1%207.2-3.9%2014-6.8%2019.1-8.7z'/%3e%3cpath%20class='s0'%20d='m154.9%20286.2c-10.2-17.3-18.7-35.1-25.3-52.7-7.5-20.1-11.3-41.3-11.6-62.4-0.5-8.1-0.2-15.6%201.1-22.5q0.1-0.8%200.2-1.7c-2.8%201.4-39.4%2016.8-43.3%2046.3-1.1%207.5-1.6%2011.1%200.6%2020.7-2.7%201.2-18.5%206.7-32.6%2015.2-16.8%2010.1-33.5%2024-39.4%2042.3-6.4%2019.7%207.3%2041.4%2026.5%2046.4%208.1%202.1%2016.7%201.3%2024.8%200.1%205.7-0.9%2011.3-2.3%2016.9-3.7%204-1.1%2017.2-2.8%2019.6-5.9-6.6%208.5-27.8%2040.3-8.7%2079.7q0.2%200.3%200.3%200.7c8.6-52%2034.3-83%2076.8-92.5-2-3.2-3.9-6.5-5.9-10zm-89.1-18.3c-4.7%200-8.4-3.7-8.4-8.3%200-4.6%203.7-8.3%208.4-8.3%204.6%200%208.3%203.7%208.3%208.3%200%204.6-3.7%208.3-8.3%208.3z'/%3e%3cpath%20class='s0'%20d='m228.6%20473.5c5.3-6%2010.8-12.4%2013.7-19.9%202.5-6.4%203.5-14.6%202.6-23-2.6-27-20.9-49-38.6-70.3-4.2-4.9-8.3-9.9-12.2-14.8-8.9-11.4-17.8-24.3-27.4-39.7-90%2017.1-75%20134.5-74.2%20156.3-44-1.6-54.3%2037.9-54.3%2037.9%200%200%2087.1-1.4%20136.8-2%2028.3-5.5%2047.9-18.3%2053.6-24.5z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e";var Be=n("<p> </p>"),Ke=n('<button class="theme-dark-bar-button" type="button" disabled><div class="p-2 flex flex-col justify-center items-center"><span></span> <!></div></button>'),Pe=n("<p> </p>"),Ie=n('<button class="theme-dark-bar-button" type="button"><div class="p-2 flex flex-col justify-center items-center"><span></span> <!></div></button>');function w(v,o){var b=X(),S=z(b);{var k=_=>{var l=Ke(),j=i(l),x=i(j),O=u(x,2);{var R=m=>{var f=Be(),q=i(f,!0);s(f),N(()=>P(q,o.title)),r(m,f)};p(O,m=>{o.title&&m(R)})}s(j),s(l),N(()=>re(x,1,le(o.iconClass))),r(_,l)},D=_=>{var l=Ie();l.__click=function(...m){var f;(f=o.onclick)==null||f.apply(this,m)};var j=i(l),x=i(j),O=u(x,2);{var R=m=>{var f=Pe(),q=i(f,!0);s(f),N(()=>P(q,o.title)),r(m,f)};p(O,m=>{o.title&&m(R)})}s(j),s(l),N(()=>re(x,1,le(o.iconClass))),r(_,l)};p(S,_=>{o.disabled?_(k):_(D,!1)})}r(v,b)}ke(["click"]);var He=n('<div><form class="flex flex-col w-full h-full justify-center items-center p-4 gap-2"><input type="number" id="x" name="x" placeholder="X" required class="theme-dark-input"> <input type="number" id="y" name="y" placeholder="Y" required class="theme-dark-input"> <button type="submit" class="theme-dark-window-button p-2">Send</button></form> <div class="flex flex-col w-full h-full justify-center items-center p-4 gap-2"><!></div></div>'),Je=n('<div class="absolute top-0 left-0 w-full h-full flex justify-center items-center bg-[#242424b4] z-50"><div class="absolute flex justify-center items-center theme-dark-container rounded-md justify-self-center"><!></div></div>'),Ue=n('<div class="flex flex-col w-full h-full justify-center items-center p-4 gap-2"><p class="text-center">TOSKR HMI</p> <p class="text-center">Version 1.0</p> <p class="text-center">Developed by RATATOSKR Team</p> <p class="text-center">2025</p></div>'),We=n('<div class="absolute top-0 left-0 w-full h-full flex justify-center items-center bg-[#242424b4] z-50"><div class="absolute flex justify-center items-center theme-dark-container rounded-md justify-self-center"><!></div></div>'),Xe=n("<p> </p>"),Qe=n("<p>Loading...</p>"),Ve=n("<p> </p>"),Ye=n("<p>Loading...</p>"),Fe=n("<!> <!>",1),Ge=n("<!> <!>",1),Ze=n("<!> <!>",1),$e=n("<p>Loading...</p>"),et=n('<div class="app h-dvh max-h-dvh flex overflow-hidden"><div class="flex flex-col h-full w-full overflow-hidden"><!> <!> <div class="top-content w-full min-h-10 max-h-10 flex flex-row justify-between items-center p-2 theme-dark-container"><!> <!> <p>Ping</p></div> <div class="flex flex-grow justify-start items-center theme-dark-back overflow-hidden"><div class="flex place-self-stretch flex-col w-20 justify-between items-center p-2 m-2 theme-dark-container rounded-md"><div class="flex flex-col w-full justify-center items-center"><img alt="TOSKR Logo" class="pb-2"> <!> <!></div> <div><!></div></div> <main class="flex flex-col md:flex-row place-self-stretch justify-stretch items-center m-2 flex-grow gap-2 overflow-hidden"><!></main></div></div></div>');function lt(v,o){Te(o,!0);let b=h(!1),S=h(!1),k=h(!1),D=h(null),_=h(void 0),l=h(null),j=h(void 0),x=h(void 0),O=h(void 0),R=h(void 0),m=h(void 0);De(async()=>{const e=await fetch("/api/connect");return d(D,await e.json(),!0),d(l,a(D),!0),d(_,new EventSource("/api/ping"),!0),a(_).addEventListener("ping",t=>{d(D,JSON.parse(t.data),!0),d(x,Date.now(),!0),d(O,Math.floor(a(x)/1e3%60),!0),d(R,Math.floor(a(x)/(1e3*60)%60),!0),d(m,Math.floor(a(x)/(1e3*60*60)%24)+19),d(j,`${a(m)}:${a(R)}:${a(O)}`)}),a(_).addEventListener("status_update",t=>{d(l,JSON.parse(t.data),!0)}),()=>{a(_)&&a(_).close()}});function f(){fetch("/api/stop")}function q(){fetch("/api/start")}function I(){fetch("/api/return")}function ne(e){e.preventDefault();const t=new FormData(e.target),c={x:t.get("x"),y:t.get("y")};fetch(`/api/move?x=${c.x}&y=${c.y}`)}function Q(e){fetch(`/api/debug?debug=${e}`)}var H=et(),V=i(H),Y=i(V);{var ce=e=>{var t=Je(),c=i(t),B=i(c);oe(B,{title:"Debug",onclick:()=>{d(S,!a(S))},icon:"cuida--x-outline",children:(K,C)=>{var y=He(),M=i(y),A=u(M,2),T=i(A);{var E=g=>{w(g,{title:"Stop",onclick:()=>{Q(0),d(k,!1)},iconClass:"cuida--power-outline"})},L=g=>{w(g,{title:"Start",onclick:()=>{Q(1),d(k,!0)},iconClass:"cuida--power-outline text-[#80b62e]"})};p(T,g=>{a(k)?g(E):g(L,!1)})}s(A),s(y),Se("submit",M,ne),r(K,y)}}),s(c),s(t),r(e,t)};p(Y,e=>{a(S)&&e(ce)})}var F=u(Y,2);{var de=e=>{var t=We(),c=i(t),B=i(c);oe(B,{title:"About",onclick:()=>{d(b,!a(b))},icon:"cuida--x-outline",children:(K,C)=>{var y=Ue();r(K,y)}}),s(c),s(t),r(e,t)};p(F,e=>{a(b)&&e(de)})}var J=u(F,2),G=i(J);{var ue=e=>{var t=Xe(),c=i(t,!0);s(t),N(()=>P(c,a(j))),r(e,t)},ve=e=>{var t=Qe();r(e,t)};p(G,e=>{a(D)?e(ue):e(ve,!1)})}var fe=u(G,2);{var pe=e=>{var t=Ve(),c=i(t,!0);s(t),N(()=>P(c,a(l).status==0?"On Duty":a(l).status==1?"Stopped":"Returning...")),r(e,t)},_e=e=>{var t=Ye();r(e,t)};p(fe,e=>{a(l)?e(pe):e(_e,!1)})}Oe(2),s(J);var Z=u(J,2),U=i(Z),W=i(U),$=i(W);Le($,"src",qe);var ee=u($,2);w(ee,{title:"About",iconClass:"cuida--info-outline",onclick:()=>{d(b,!a(b)),console.log("About clicked")}});var me=u(ee,2);w(me,{title:"Debug",iconClass:"cuida--bullseye-outline",onclick:()=>{d(S,!a(S)),console.log("Debug clicked")}}),s(W);var te=u(W,2),ge=i(te);{var be=e=>{var t=X(),c=z(t);{var B=C=>{var y=Fe(),M=z(y);w(M,{title:"Stop",iconClass:"cuida--power-outline",onclick:f});var A=u(M,2);w(A,{title:"Return",iconClass:"cuida--loading-left-outline",onclick:I}),r(C,y)},K=(C,y)=>{{var M=T=>{var E=Ge(),L=z(E);w(L,{title:"Start",iconClass:"cuida--power-outline text-[#80b62e]",onclick:q});var g=u(L,2);w(g,{title:"Return",iconClass:"cuida--loading-left-outline",onclick:I}),r(T,E)},A=(T,E)=>{{var L=g=>{var ie=Ze(),se=z(ie);w(se,{title:"Stop",iconClass:"cuida--power-outline",onclick:f});var we=u(se,2);w(we,{title:"Return",iconClass:"cuida--loading-left-outline",onclick:I,disabled:"true"}),r(g,ie)};p(T,g=>{a(l).status==2&&g(L)},E)}};p(C,T=>{a(l).status==1?T(M):T(A,!1)},y)}};p(c,C=>{a(l).status==0?C(B):C(K,!1)})}r(e,t)};p(ge,e=>{a(l)&&e(be)})}s(te),s(U);var ae=u(U,2),he=i(ae);{var xe=e=>{var t=X(),c=z(t);Re(c,()=>o.children),r(e,t)},ye=e=>{var t=$e();r(e,t)};p(he,e=>{a(D)?e(xe):e(ye,!1)})}s(ae),s(Z),s(V),s(H),r(v,H),Me()}export{lt as component,rt as universal};
