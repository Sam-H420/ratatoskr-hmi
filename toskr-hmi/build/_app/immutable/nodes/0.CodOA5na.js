import{d as je,c as F,a as r,t as s,s as N,e as Se}from"../chunks/_GjLXgwK.js";import{w as B,z as l,B as v,A as i,x as L,v as Ce,Y as De,y as Oe,N as n,Z as b,m as a,_ as Re}from"../chunks/Cv2XWkrT.js";import{i as f}from"../chunks/CeFvMfNe.js";import{s as re,c as se,a as Te,W as oe,b as ze}from"../chunks/1y3tKbTT.js";const Ae=!1,tt=Object.freeze(Object.defineProperty({__proto__:null,ssr:Ae},Symbol.toStringTag,{value:"Module"})),Me="data:image/svg+xml,%3csvg%20version='1.2'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20500%20500'%20width='500'%20height='500'%3e%3ctitle%3e1719719_187738-OXCQ33-667%3c/title%3e%3cstyle%3e%20.s0%20{%20fill:%20%23a0a0a0%20}%20%3c/style%3e%3cg%20id='BACKGROUND'%3e%3c/g%3e%3cg%20id='OBJECTS'%3e%3cg%3e%3cpath%20class='s0'%20d='m338.5%200.8c-0.1%200-0.3%200-0.4%200-5.6-0.5-11.2-0.8-17-0.8-8.8%200-17.6%200.2-26.4%200.6-12.2%200.7-24.3%201.8-36.2%203.8-41.8%208.6-71.6%2027.5-93.9%2057.3-37.5%2050.1-46.7%20112.9-26%20168.1%206.2%2016.8%2015.2%2034.5%2024.9%2051.1%2014.1%2024.2%2026.6%2042.7%2038.7%2058.1%203.8%204.9%208%209.7%2012%2014.6%2018.7%2022.5%2038.1%2045.7%2041.1%2076%201%2010-0.1%2019.9-3.2%2027.8-3.5%209.2-10%2016.8-15.8%2023.1-4.8%205.4-15.5%2012.8-30.3%2019%205.7%200.1%2011%200.2%2013.1%200.2%2034.4-1%2085.6-10.9%20119-77.7%206.5-16.8%2011.2-40.1%204.4-69.8-4.3-18.6-12.2-36.3-22-52.6-13.7-22.8-47.3-56.2-24.2-99.5%209-16.9%2031.9-23%2031.9-23-4.4%2012.9-4.4%2025.2-2.6%2036%201.4%207.6%203.7%2014.4%206%2020.1%201.1%202.5%202.2%204.9%203.2%206.9%207.9%2014.4%2019.8%2026.2%2034.1%2033.9%2012.1%206.6%2025.8%2010.3%2040.5%2010.3%205.9%200%2011.7-0.6%2017.3-1.8%204.9-1%209.6-2.4%2014.1-4.3%207.5-2.9%2014.4-6.9%2020.7-11.8%2012.2-9.9%2022.4-23.9%2029.1-42.1%201.3-3.3%202.4-6.9%203.3-10.5%202.6-11.9%204-24.3%204-37%200-91.9-70-167.3-159.4-176z'/%3e%3cpath%20class='s0'%20d='m64.6%20207.3c-0.9-10.8%200.9-23.4%207.1-34.4-6.5%204.6-24.5%2019-26.2%2043.1%207.2-3.9%2014-6.8%2019.1-8.7z'/%3e%3cpath%20class='s0'%20d='m154.9%20286.2c-10.2-17.3-18.7-35.1-25.3-52.7-7.5-20.1-11.3-41.3-11.6-62.4-0.5-8.1-0.2-15.6%201.1-22.5q0.1-0.8%200.2-1.7c-2.8%201.4-39.4%2016.8-43.3%2046.3-1.1%207.5-1.6%2011.1%200.6%2020.7-2.7%201.2-18.5%206.7-32.6%2015.2-16.8%2010.1-33.5%2024-39.4%2042.3-6.4%2019.7%207.3%2041.4%2026.5%2046.4%208.1%202.1%2016.7%201.3%2024.8%200.1%205.7-0.9%2011.3-2.3%2016.9-3.7%204-1.1%2017.2-2.8%2019.6-5.9-6.6%208.5-27.8%2040.3-8.7%2079.7q0.2%200.3%200.3%200.7c8.6-52%2034.3-83%2076.8-92.5-2-3.2-3.9-6.5-5.9-10zm-89.1-18.3c-4.7%200-8.4-3.7-8.4-8.3%200-4.6%203.7-8.3%208.4-8.3%204.6%200%208.3%203.7%208.3%208.3%200%204.6-3.7%208.3-8.3%208.3z'/%3e%3cpath%20class='s0'%20d='m228.6%20473.5c5.3-6%2010.8-12.4%2013.7-19.9%202.5-6.4%203.5-14.6%202.6-23-2.6-27-20.9-49-38.6-70.3-4.2-4.9-8.3-9.9-12.2-14.8-8.9-11.4-17.8-24.3-27.4-39.7-90%2017.1-75%20134.5-74.2%20156.3-44-1.6-54.3%2037.9-54.3%2037.9%200%200%2087.1-1.4%20136.8-2%2028.3-5.5%2047.9-18.3%2053.6-24.5z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e";var Be=s("<p> </p>"),Le=s('<button class="theme-dark-bar-button" type="button" disabled><div class="p-2 flex flex-col justify-center items-center"><span></span> <!></div></button>'),qe=s("<p> </p>"),Ee=s('<button class="theme-dark-bar-button" type="button"><div class="p-2 flex flex-col justify-center items-center"><span></span> <!></div></button>');function y(P,g){var h=F(),C=B(h);{var D=p=>{var d=Le(),c=l(d),w=l(c),k=v(w,2);{var R=m=>{var u=Be(),T=l(u,!0);i(u),L(()=>N(T,g.title)),r(m,u)};f(k,m=>{g.title&&m(R)})}i(c),i(d),L(()=>re(w,1,se(g.iconClass))),r(p,d)},q=p=>{var d=Ee();d.__click=function(...m){var u;(u=g.onclick)==null||u.apply(this,m)};var c=l(d),w=l(c),k=v(w,2);{var R=m=>{var u=qe(),T=l(u,!0);i(u),L(()=>N(T,g.title)),r(m,u)};f(k,m=>{g.title&&m(R)})}i(c),i(d),L(()=>re(w,1,se(g.iconClass))),r(p,d)};f(C,p=>{g.disabled?p(D):p(q,!1)})}r(P,h)}je(["click"]);var Ke=s('<div><form class="flex flex-col w-full h-full justify-center items-center p-4 gap-2"><input type="number" id="x" name="x" placeholder="X" required class="theme-dark-input"> <input type="number" id="y" name="y" placeholder="Y" required class="theme-dark-input"> <button type="submit" class="theme-dark-window-button p-2">Send</button></form> <div class="flex flex-col w-full h-full justify-center items-center p-4 gap-2"><!></div></div>'),Ne=s('<div class="absolute top-0 left-0 w-full h-full flex justify-center items-center bg-[#242424b4] z-50"><div class="absolute flex justify-center items-center theme-dark-container rounded-md justify-self-center"><!></div></div>'),Pe=s('<div class="flex flex-col w-full h-full justify-center items-center p-4 gap-2"><p class="text-center">TOSKR HMI</p> <p class="text-center">Version 1.0</p> <p class="text-center">Developed by RATATOSKR Team</p> <p class="text-center">2025</p></div>'),Je=s('<div class="absolute top-0 left-0 w-full h-full flex justify-center items-center bg-[#242424b4] z-50"><div class="absolute flex justify-center items-center theme-dark-container rounded-md justify-self-center"><!></div></div>'),Ue=s("<p> </p>"),We=s("<p>Loading...</p>"),Xe=s("<p> </p>"),Ye=s("<p>Loading...</p>"),Fe=s("<!> <!>",1),Ge=s("<!> <!>",1),He=s("<!> <!>",1),Ie=s("<p>Loading...</p>"),Qe=s('<div class="app h-dvh max-h-dvh flex overflow-hidden"><div class="flex flex-col h-full w-full overflow-hidden"><!> <!> <div class="top-content w-full min-h-10 max-h-10 flex flex-row justify-between items-center p-2 theme-dark-container"><!> <!> <p>Ping</p></div> <div class="flex flex-grow justify-start items-center theme-dark-back overflow-hidden"><div class="flex place-self-stretch flex-col w-20 justify-between items-center p-2 m-2 theme-dark-container rounded-md"><div class="flex flex-col w-full justify-center items-center"><img alt="TOSKR Logo" class="pb-2"> <!> <!></div> <div><!></div></div> <main class="flex flex-col md:flex-row place-self-stretch justify-stretch items-center m-2 flex-grow gap-2 overflow-hidden"><!></main></div></div></div>');function at(P,g){Ce(g,!0);const h="http://172.26.197.108:18080";let C=b(!1),D=b(!1),q=b(!1),p=b(null),d=b(void 0),c=b(null),w=b(void 0),k=b(void 0),R=b(void 0),m=b(void 0),u=b(void 0);De(async()=>{const e=await fetch(`${h}/connect`);return n(p,await e.json(),!0),n(c,a(p),!0),n(d,new EventSource(`${h}/ping`),!0),a(d).addEventListener("ping",t=>{n(p,JSON.parse(t.data),!0),n(k,Date.now(),!0),n(R,Math.floor(a(k)/1e3%60),!0),n(m,Math.floor(a(k)/(1e3*60)%60),!0),n(u,Math.floor(a(k)/(1e3*60*60)%24)+19),n(w,`${a(u)}:${a(m)}:${a(R)}`)}),a(d).addEventListener("status_update",t=>{n(c,JSON.parse(t.data),!0)}),()=>{a(d)&&a(d).close()}});function T(){fetch(`${h}/stop`)}function ne(){fetch(`${h}/start`)}function J(){fetch(`${h}/return`)}function ce(e){e.preventDefault();const t=new FormData(e.target),o={x:t.get("x"),y:t.get("y")};fetch(`${h}/move?x=${o.x}&y=${o.y}`)}function G(e){fetch(`${h}/debug?debug=${e}`)}var U=Qe(),H=l(U),I=l(H);{var de=e=>{var t=Ne(),o=l(t),E=l(o);oe(E,{title:"Debug",onclick:()=>{n(D,!a(D))},icon:"cuida--x-outline",children:(K,j)=>{var x=Ke(),O=l(x),z=v(O,2),S=l(z);{var A=_=>{y(_,{title:"Stop",onclick:()=>{G(0),n(q,!1)},iconClass:"cuida--power-outline"})},M=_=>{y(_,{title:"Start",onclick:()=>{G(1),n(q,!0)},iconClass:"cuida--power-outline text-[#80b62e]"})};f(S,_=>{a(q)?_(A):_(M,!1)})}i(z),i(x),Se("submit",O,ce),r(K,x)}}),i(o),i(t),r(e,t)};f(I,e=>{a(D)&&e(de)})}var Q=v(I,2);{var ve=e=>{var t=Je(),o=l(t),E=l(o);oe(E,{title:"About",onclick:()=>{n(C,!a(C))},icon:"cuida--x-outline",children:(K,j)=>{var x=Pe();r(K,x)}}),i(o),i(t),r(e,t)};f(Q,e=>{a(C)&&e(ve)})}var W=v(Q,2),V=l(W);{var ue=e=>{var t=Ue(),o=l(t,!0);i(t),L(()=>N(o,a(w))),r(e,t)},fe=e=>{var t=We();r(e,t)};f(V,e=>{a(p)?e(ue):e(fe,!1)})}var pe=v(V,2);{var me=e=>{var t=Xe(),o=l(t,!0);i(t),L(()=>N(o,a(c).status==0?"On Duty":a(c).status==1?"Stopped":"Returning...")),r(e,t)},_e=e=>{var t=Ye();r(e,t)};f(pe,e=>{a(c)?e(me):e(_e,!1)})}Re(2),i(W);var Z=v(W,2),X=l(Z),Y=l(X),$=l(Y);Te($,"src",Me);var ee=v($,2);y(ee,{title:"About",iconClass:"cuida--info-outline",onclick:()=>{n(C,!a(C)),console.log("About clicked")}});var ge=v(ee,2);y(ge,{title:"Debug",iconClass:"cuida--bullseye-outline",onclick:()=>{n(D,!a(D)),console.log("Debug clicked")}}),i(Y);var te=v(Y,2),be=l(te);{var he=e=>{var t=F(),o=B(t);{var E=j=>{var x=Fe(),O=B(x);y(O,{title:"Stop",iconClass:"cuida--power-outline",onclick:T});var z=v(O,2);y(z,{title:"Return",iconClass:"cuida--loading-left-outline",onclick:J}),r(j,x)},K=(j,x)=>{{var O=S=>{var A=Ge(),M=B(A);y(M,{title:"Start",iconClass:"cuida--power-outline text-[#80b62e]",onclick:ne});var _=v(M,2);y(_,{title:"Return",iconClass:"cuida--loading-left-outline",onclick:J}),r(S,A)},z=(S,A)=>{{var M=_=>{var le=He(),ie=B(le);y(ie,{title:"Stop",iconClass:"cuida--power-outline",onclick:T});var ke=v(ie,2);y(ke,{title:"Return",iconClass:"cuida--loading-left-outline",onclick:J,disabled:"true"}),r(_,le)};f(S,_=>{a(c).status==2&&_(M)},A)}};f(j,S=>{a(c).status==1?S(O):S(z,!1)},x)}};f(o,j=>{a(c).status==0?j(E):j(K,!1)})}r(e,t)};f(be,e=>{a(c)&&e(he)})}i(te),i(X);var ae=v(X,2),xe=l(ae);{var ye=e=>{var t=F(),o=B(t);ze(o,()=>g.children),r(e,t)},we=e=>{var t=Ie();r(e,t)};f(xe,e=>{a(p)?e(ye):e(we,!1)})}i(ae),i(Z),i(H),i(U),r(P,U),Oe()}export{at as component,tt as universal};
